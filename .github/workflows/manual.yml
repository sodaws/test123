name: print container environment variables
on: workflow_dispatch
jobs:
  test-container-env:
    runs-on: self-hosted
    container:
      image: curlimages/curl:latest
      env:
        test123: 123456
        http_proxy: http://host.docker.internal:xxxx
        https_proxy: http://host.docker.internal:xxxx
        HTTP_PROXY: http://host.docker.internal:xxxx
        HTTPS_PROXY: http://host.docker.internal:xxxx
      options: --add-host=host.docker.internal:host-gateway
    steps:
    - name: print env
      run: printenv
    - name: curl google
      run: curl google.com
